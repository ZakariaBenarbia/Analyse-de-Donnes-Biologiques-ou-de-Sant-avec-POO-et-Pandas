<?xml version="1.0" encoding="UTF-8"?>
<svg
    width="800"
    height="600"
    viewBox="0 0 800 600"
    xmlns="http://www.w3.org/2000/svg"
>
  <!-- Background and styles -->
  <style>
    .process       { fill:#e1f5fe; stroke:#0288d1; stroke-width:2; }
    .data-store    { fill:#e8f5e9; stroke:#388e3c; stroke-width:2; }
    .external      { fill:#fff3e0; stroke:#ff9800; stroke-width:2; }
    .flow          { stroke:#616161; stroke-width:1.5; fill:none; marker-end:url(#arrowhead); }
    .text          { font-family:Arial; font-size:14px; fill:#212121; }
    .title         { font-family:Arial; font-size:20px; font-weight:bold; fill:#212121; text-anchor:middle; }
    .subtitle      { font-family:Arial; font-size:14px; fill:#757575; text-anchor:middle; }
    .process-title { font-family:Arial; font-size:14px; font-weight:bold; fill:#01579b; text-anchor:middle; }
    .data-title    { font-family:Arial; font-size:14px; font-weight:bold; fill:#1b5e20; text-anchor:middle; }
    .external-title{ font-family:Arial; font-size:14px; font-weight:bold; fill:#e65100; text-anchor:middle; }
    .flow-label    { font-family:Arial; font-size:12px; fill:#424242; }
  </style>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#616161" />
    </marker>
  </defs>
  
  <!-- Diagram Title -->
  <text x="400" y="30"  class="title">Data Flow Diagram: Male Infertility Analysis System</text>
  <text x="400" y="55"  class="subtitle">Based on DataAnalyzer, Visualizer, and KnowledgeClustering Classes</text>
  
  <!-- External Entity -->
  <rect x="40"  y="100" width="120" height="60" rx="5" class="external" />
  <text x="100" y="135" class="external-title">User</text>
  
  <!-- Data Store -->
  <rect x="300" y="180" width="200" height="60" rx="5" class="data-store" />
  <text x="400" y="215" class="data-title">Excel File (Male Infertility Data)</text>
  
  <!-- Process 1: DataAnalyzer -->
  <rect x="300" y="100" width="200" height="60" rx="10" class="process" />
  <text x="400" y="135" class="process-title">DataAnalyzer</text>
  
  <!-- Process 2: DataCleaning -->
  <rect x="300" y="300" width="200" height="60" rx="10" class="process" />
  <text x="400" y="335" class="process-title">Data Cleaning Process</text>
  
  <!-- Process 3: Score Computation -->
  <rect x="300" y="400" width="200" height="60" rx="10" class="process" />
  <text x="400" y="435" class="process-title">Compute Composite Columns</text>
  
  <!-- Process 4: KnowledgeClustering -->
  <rect x="580" y="300" width="180" height="60" rx="10" class="process" />
  <text x="670" y="335" class="process-title">KnowledgeClustering</text>
  
  <!-- Process 5: Visualizer -->
  <rect x="580" y="400" width="180" height="60" rx="10" class="process" />
  <text x="670" y="435" class="process-title">Visualizer</text>
  
  <!-- Results Display -->
  <rect x="300" y="500" width="200" height="60" rx="5" class="external" />
  <text x="400" y="535" class="external-title">Statistical Results</text>
  
  <!-- Visual Output -->
  <rect x="580" y="500" width="180" height="60" rx="5" class="external" />
  <text x="670" y="535" class="external-title">Visual Reports</text>
  
  <!-- Data Flows -->
  <path d="M160,130 H280 C290,130 300,130 300,130" class="flow" />
  <text x="220" y="125" class="flow-label">Upload File</text>
  
  <path d="M400,160 L400,180" class="flow" />
  <text x="410" y="170" class="flow-label">Load Data</text>
  
  <path d="M400,240 L400,300" class="flow" />
  <text x="410" y="270" class="flow-label">Raw Data</text>
  
  <path d="M400,360 L400,400" class="flow" />
  <text x="410" y="380" class="flow-label">Cleaned Data</text>
  
  <path d="M500,430 C540,430 540,330 580,330" class="flow" />
  <text x="510" y="410" class="flow-label">Knowledge_Score</text>
  
  <path d="M500,430 L580,430" class="flow" />
  <text x="530" y="420" class="flow-label">Age, Knowledge_Score</text>
  
  <path d="M670,360 L670,400" class="flow" />
  <text x="680" y="380" class="flow-label">Cluster Labels</text>
  
  <path d="M600,360 C560,360 460,460 400,500" class="flow" />
  <text x="500" y="450" class="flow-label">Cluster Frequencies</text>
  
  <path d="M400,460 L400,500" class="flow" />
  <text x="410" y="480" class="flow-label">Descriptive Stats</text>
  
  <path d="M670,460 L670,500" class="flow" />
  <text x="680" y="480" class="flow-label">Histograms</text>
</svg>
